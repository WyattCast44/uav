<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UAV Simulator</title>
    <script type="module" crossorigin>var Zt=Object.defineProperty;var Ct=s=>{throw TypeError(s)};var te=(s,t,i)=>t in s?Zt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i;var o=(s,t,i)=>te(s,typeof t!="symbol"?t+"":t,i),wt=(s,t,i)=>t.has(s)||Ct("Cannot "+i);var Pt=(s,t,i)=>(wt(s,t,"read from private field"),i?i.call(s):t.get(s)),et=(s,t,i)=>t.has(s)?Ct("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,i),kt=(s,t,i,a)=>(wt(s,t,"write to private field"),a?a.call(s,i):t.set(s,i),i),D=(s,t,i)=>(wt(s,t,"access private method"),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const u of e.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerPolicy&&(e.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?e.credentials="include":r.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(r){if(r.ep)return;r.ep=!0;const e=i(r);fetch(r.href,e)}})();var nt,Lt,Rt;class ee{constructor(){et(this,nt);o(this,"canvas");o(this,"context");o(this,"target");o(this,"isMounted",!1);o(this,"dpr",1);o(this,"displayWidth",0);o(this,"displayHeight",0);o(this,"currentTime",new Date);o(this,"displayItems",[]);this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.dpr=window.devicePixelRatio||1,this.context.scale(this.dpr,this.dpr),this.clear(),D(this,nt,Rt).call(this)}clear(){this.context.clearRect(0,0,this.displayWidth,this.displayHeight)}setTarget(t){this.target=t}mount(){if(!this.target)throw new Error("Target element not found");if(this.isMounted){console.warn("HUDCanvas is already mounted");return}this.target.appendChild(this.canvas),this.displayWidth=this.canvas.clientWidth,this.displayHeight=this.canvas.clientHeight,this.isMounted=!0}unmount(){var t;if(!this.target)throw new Error("Target element not found");if(!this.isMounted){console.warn("HUDCanvas is not mounted");return}(t=this.target)==null||t.removeChild(this.canvas),this.isMounted=!1}render(t){this.clear(),D(this,nt,Lt).call(this),this.currentTime=t,this.displayItems.forEach(i=>{i()})}addRenderableItem(t){this.displayItems.push(t)}}nt=new WeakSet,Lt=function(){this.displayWidth=this.canvas.clientWidth,this.displayHeight=this.canvas.clientHeight,this.canvas.width=this.displayWidth*this.dpr,this.canvas.height=this.displayHeight*this.dpr,this.context.scale(this.dpr,this.dpr)},Rt=function(){let t={position:"absolute",top:"0",left:"0",width:"100%",height:"100%"};Object.assign(this.canvas.style,t),window.addEventListener("resize",this.render.bind(this,this.currentTime))};class K{constructor(t){o(this,"value");this.value=t}static fromMeters(t){return new K(t*3.28084)}get feet(){return this.value}get meters(){return this.value*.3048}get nauticalMiles(){return this.value*164579e-9}get kilometers(){return this.value*.00030480031}}class ie{constructor(t){o(this,"value");this.value=t}get meters(){return this.value}get kilometers(){return this.value*.001}get feet(){return this.value*3.28084}get nauticalMiles(){return this.value*539957e-9}}function re(s){return s*(Math.PI/180)}function ht(s,t,i,a){const r=re(a);return{x:s+i*Math.cos(r),y:t+i*Math.sin(r)}}function Gt(s){return s=(s-1)%360+1,s==0&&(s=360),s<1&&(s+=360),s}function P(s,t,i){const a=i*Math.PI/180,r=Math.cos(a),e=Math.sin(a),u=s.x-t.x,n=s.y-t.y;return{x:t.x+(u*r-n*e),y:t.y+(u*e+n*r)}}class U{constructor(t){o(this,"value");this.value=t}get knots(){return this.value}get kilometersPerSecond(){return this.value*.000514444444}get kilometersPerMinute(){return this.value*.0308666}get kilometersPerHour(){return this.value*1.852}get metersPerSecond(){return this.value*.514444444}get metersPerMinute(){return this.value*30.8666}get metersPerHour(){return this.value*1852}get feetPerSecond(){return this.value*1.687809857}get feetPerMinute(){return this.value*101.268591424}get feetPerHour(){return this.value*6076.1154855643}}class G{constructor(t){o(this,"value");this.value=t}static fromRadians(t){return new G(t*(180/Math.PI))}get degrees(){return this.value}get radians(){return this.value*(Math.PI/180)}}class B{constructor(t){o(this,"value");this.value=Gt(t)}static fromDegrees(t){return new B(t)}static fromRadians(t){return new B(t*(180/Math.PI))}get degrees(){return this.value}get radians(){return this.value*(Math.PI/180)}}class it{constructor(t,i="F"){o(this,"temperature");o(this,"units");this.temperature=t,this.units=i}static standardDayAtSeaLevel(t="F"){return t==="F"?new it(68):new it(20)}static fromFahrenheit(t){return new it(t,"F")}static fromCelsius(t){return new it(t*(9/5)+32,"F")}get temperatureFahrenheit(){if(this.units==="F")return this.temperature;if(this.units==="C")return this.temperature*(9/5)+32;throw new Error("Invalid units")}get temperatureCelsius(){if(this.units==="F")return(this.temperature-32)*(5/9);if(this.units==="C")return this.temperature;throw new Error("Invalid units")}}class J{constructor(t,i="ft/s^2"){o(this,"value");o(this,"units");this.value=t,this.units=i}static fromFeetPerSecondSquared(t){return new J(t,"ft/s^2")}static fromMetersPerSecondSquared(t){return new J(t,"m/s^2")}get ftPerSecondSquared(){return this.convertTo("ft/s^2").value}get metersPerSecondSquared(){return this.convertTo("m/s^2").value}convertTo(t){if(this.units===t)return this;let i=this.units;if(i==="ft/s^2"&&t==="m/s^2")return new J(this.value*.3048,t);if(i==="m/s^2"&&t==="ft/s^2")return new J(this.value*3.28084,t);throw new Error(`Unsupported units: ${i}`)}}class $t{static get ftPerSecondSquaredAtSeaLevel(){return new J(32.174049,"ft/s^2")}static get metersPerSecondSquaredAtSeaLevel(){return new J(9.80665,"m/s^2")}static estimateGravityAtAltitude(t,i){let a=new ie(6378100),r=this.metersPerSecondSquaredAtSeaLevel.metersPerSecondSquared*Math.pow(a.meters/(a.meters+t.meters),2);return new J(r,"m/s^2").convertTo(i)}}class Wt{constructor({direction:t=new B(0),speed:i=new U(0)}){o(this,"cardinalDirection");o(this,"speed");this.cardinalDirection=t instanceof B?t:new B(t),this.speed=i instanceof U?i:new U(i)}get directionFromCardinal(){return this.cardinalDirection}get directionFromCardinalRadians(){return this.directionFromCardinal.radians}get directionFromMath(){return 90-this.cardinalDirection.degrees}get directionFromMathRadians(){return new G(this.directionFromMath).radians}get directionToCardinal(){return(this.cardinalDirection.degrees-180)%360}get directionToCardinalRadians(){return new B(this.directionToCardinal).radians}get directionToMath(){return 90-(this.cardinalDirection.degrees-180)%360}get directionToMathRadians(){return new G(this.directionToMath).radians}get windNorthComponent(){return new U(this.speed.knots*Math.cos(this.directionToCardinalRadians))}get windEastComponent(){return new U(this.speed.knots*Math.sin(this.directionToCardinalRadians))}}class ae{constructor({wind:t=new Wt({direction:0,speed:0}),surfaceTemperature:i=it.standardDayAtSeaLevel("F")}){o(this,"wind");o(this,"surfaceTemperature");this.wind=t,this.surfaceTemperature=i}setWind(t){this.wind=t}setSurfaceTemperature(t){this.surfaceTemperature=t}estimateAirDensityAtAltitude(t){return 1.22+-3.39*Math.pow(10,-5)*t.feet+2.8*Math.pow(10,-10)*Math.pow(t.feet,2)}}class Ht{constructor({maxAltitude:t,maxBankAngle:i,maxLoadFactor:a,maxGamma:r}){o(this,"maxAltitude");o(this,"maxBankAngle");o(this,"maxLoadFactor");o(this,"maxGamma");this.maxAltitude=t,this.maxBankAngle=i,this.maxLoadFactor=a,this.maxGamma=r}}class It{constructor({rollRate:t,rollRateCompensator:i,pitchRate:a,pitchRateCompensator:r,accelKeasPerSecond:e,accelKnotsPerSecondCompensator:u}){o(this,"rollRate");o(this,"rollRateCompensator");o(this,"pitchRate");o(this,"pitchRateCompensator");o(this,"accelKeasPerSecond");o(this,"accelKnotsPerSecondCompensator");this.rollRate=t,this.rollRateCompensator=i,this.pitchRate=a,this.pitchRateCompensator=r,this.accelKeasPerSecond=e,this.accelKnotsPerSecondCompensator=u}get effectiveRollRate(){return this.rollRate*this.rollRateCompensator}get effectivePitchRate(){return this.pitchRate*this.pitchRateCompensator}get effectiveAccelKeasPerSecond(){return this.accelKeasPerSecond*this.accelKnotsPerSecondCompensator}}var z=(s=>(s.FULL="FULL",s.HALF="HALF",s.IN="IN",s.LOCKED="LOCKED",s.NONE="NONE",s))(z||{}),vt=(s=>(s.DOWN="down",s.UP="up",s.TRANSIT="transit",s))(vt||{}),dt=(s=>(s.MANUAL="manual",s.AUTOPILOT="autopilot",s.MSN="msn",s))(dt||{});const se=Math.PI/180,ne=180/Math.PI;function Ft(s){return s*se}function At(s){return s*ne}var L,Ot,Nt,Et,Yt,Ut,Bt,Vt,qt,Xt;class oe{constructor(t){et(this,L);o(this,"uav");o(this,"heading",new B(360));o(this,"keas",new U(0));o(this,"altitude",new K(0));o(this,"gamma",new G(0));o(this,"bank",new G(0));o(this,"ktas",new U(0));o(this,"mach",0);o(this,"groundSpeed",new U(0));o(this,"course",new B(0));o(this,"loadFactor",0);o(this,"experiencedGravity",$t.ftPerSecondSquaredAtSeaLevel);o(this,"turnRate",0);o(this,"turnRadius",new K(0));o(this,"verticalVelocity",0);o(this,"controlMode",dt.MANUAL);o(this,"gearStatus",vt.UP);o(this,"boardsStatus",z.NONE);o(this,"position",{x:0,y:0});this.uav=t}setIntialAttitude({heading:t,keas:i,altitude:a,gamma:r,bank:e,position:u}){this.heading=t instanceof B?t:new B(t),this.keas=i instanceof U?i:new U(i),this.altitude=a instanceof K?a:new K(a),this.gamma=r instanceof G?r:new G(r),this.bank=e instanceof G?e:new G(e),this.position=u}updatePerformanceValues(t){this.ktas=D(this,L,Ot).call(this,t),this.mach=D(this,L,Nt).call(this),this.groundSpeed=D(this,L,Et).call(this,t),this.course=D(this,L,Yt).call(this,t),this.loadFactor=D(this,L,Ut).call(this),this.experiencedGravity=D(this,L,Bt).call(this),this.turnRate=D(this,L,Vt).call(this),this.turnRadius=D(this,L,qt).call(this),this.verticalVelocity=D(this,L,Xt).call(this)}}L=new WeakSet,Ot=function(t){return new U(Math.round(this.keas.knots*Math.sqrt(1.225/t.estimateAirDensityAtAltitude(this.altitude))))},Nt=function(){return parseFloat((this.ktas.knots/((-1.2188*(this.altitude.feet/1e3)+341.59)*1.944)).toFixed(2))},Et=function(t){let i=this.ktas.knots*Math.cos(this.heading.radians),a=this.ktas.knots*Math.sin(this.heading.radians),r=t.wind.windNorthComponent,e=t.wind.windEastComponent,u=i+r.knots,n=a+e.knots,f=Math.sqrt(Math.pow(u,2)+Math.pow(n,2));return new U(Math.round(f))},Yt=function(t){let i=this.ktas.knots*Math.cos(this.heading.radians),a=this.ktas.knots*Math.sin(this.heading.radians),r=t.wind.windNorthComponent.knots,e=t.wind.windEastComponent.knots,u=i+r,n=a+e,f=Math.atan2(n,u),c=At(f);return new B(Math.round(c))},Ut=function(){return parseFloat((1/Math.cos(this.bank.radians)).toFixed(2))},Bt=function(){return $t.estimateGravityAtAltitude(this.altitude,"ft/s^2")},Vt=function(){let t=At(this.experiencedGravity.convertTo("m/s^2").value*Math.tan(this.bank.radians)/this.ktas.metersPerSecond);return parseFloat(t.toFixed(2))},qt=function(){let t=Math.pow(this.ktas.feetPerSecond,2)/(this.experiencedGravity.convertTo("ft/s^2").value*Math.sqrt(Math.pow(this.loadFactor,2)-1));return new K(parseFloat(t.toFixed(4)))},Xt=function(){let i=this.groundSpeed.feetPerSecond*60*Math.sin(this.gamma.radians);return parseFloat(i.toFixed(2))};var ct,Tt;class le{constructor(t){et(this,ct);o(this,"keas");o(this,"gamma");o(this,"bank");o(this,"gearStatus");o(this,"boardsStatus");this.uav=t}pitchUp(t){let i=t instanceof G?t.degrees:t,a=D(this,ct,Tt).call(this,i);this.uav.state.gamma=a}pitchDown(t){let i=t instanceof G?t.degrees:t,a=D(this,ct,Tt).call(this,-i);this.uav.state.gamma=a}}ct=new WeakSet,Tt=function(t){let i=this.uav.state.gamma.degrees+t;return i>this.uav.limits.maxGamma.degrees?t=this.uav.limits.maxGamma.degrees:i<-this.uav.limits.maxGamma.degrees?t=-this.uav.limits.maxGamma.degrees:t=i,new G(t)};class he{constructor(t="N/A"){o(this,"state",new oe(this));o(this,"commandedAttitude",new le(this));o(this,"dynamics",new It({rollRate:10,rollRateCompensator:1,pitchRate:10,pitchRateCompensator:1,accelKeasPerSecond:1,accelKnotsPerSecondCompensator:1}));o(this,"limits",new Ht({maxAltitude:new K(1e4),maxBankAngle:new G(60),maxLoadFactor:8,maxGamma:new G(60)}));this.tailNumber=t}}class de extends he{constructor(i="MQ9"){super(i);o(this,"boardsStatus",z.IN);o(this,"dynamics",new It({rollRate:10,rollRateCompensator:.6,pitchRate:10,pitchRateCompensator:.6,accelKeasPerSecond:1,accelKnotsPerSecondCompensator:1}));o(this,"limits",new Ht({maxAltitude:new K(5e4),maxBankAngle:new G(45),maxLoadFactor:2.5,maxGamma:new G(45)}))}}var xt,Kt;class ce{constructor(t,i,a){et(this,xt);o(this,"uav");o(this,"environment");o(this,"simulation");o(this,"canvas");o(this,"controlMode");o(this,"primaryGraphicsColor","green");o(this,"secondaryGraphicsColor","black");o(this,"primaryTextColor","white");o(this,"secondaryTextColor","white");this.uav=t,this.environment=i,this.simulation=a,this.canvas=new ee,this.controlMode=t.state.controlMode,D(this,xt,Kt).call(this)}getFont(t){return`${t}px monospace`}mount(t){this.canvas.setTarget(t),this.canvas.mount()}unmount(){this.canvas.unmount()}render(t){this.canvas.render(t)}}xt=new WeakSet,Kt=function(){switch(this.controlMode){case dt.MANUAL:this.primaryGraphicsColor="lime",this.secondaryGraphicsColor="black",this.primaryTextColor="white",this.secondaryTextColor="lime";break;case dt.AUTOPILOT:this.primaryGraphicsColor="blue",this.secondaryGraphicsColor="black",this.primaryTextColor="white",this.secondaryTextColor="white";break;case dt.MSN:this.primaryGraphicsColor="green",this.secondaryGraphicsColor="black",this.primaryTextColor="white",this.secondaryTextColor="white";break}};var q,jt,_t,zt,Jt,Qt;class ue extends ce{constructor(i,a,r){super(i,a,r);et(this,q);this.canvas.addRenderableItem(this.renderAirspeed.bind(this)),this.canvas.addRenderableItem(this.renderAltitude.bind(this)),this.canvas.addRenderableItem(this.renderVerticalSpeed.bind(this)),this.canvas.addRenderableItem(this.renderTailNumber.bind(this)),this.canvas.addRenderableItem(this.renderGroundSpeed.bind(this)),this.canvas.addRenderableItem(this.renderMach.bind(this)),this.canvas.addRenderableItem(this.renderGForce.bind(this)),this.canvas.addRenderableItem(this.renderBankIndicator.bind(this)),this.canvas.addRenderableItem(this.renderClock.bind(this)),this.canvas.addRenderableItem(this.renderSimulationTime.bind(this)),this.canvas.addRenderableItem(this.renderWind.bind(this)),this.canvas.addRenderableItem(this.renderHeadingBar.bind(this)),this.canvas.addRenderableItem(this.renderPitchLadder.bind(this)),this.canvas.addRenderableItem(this.renderFlightPathMarker.bind(this))}renderAirspeed(){this.uav.state.gearStatus===vt.UP?D(this,q,jt).call(this):D(this,q,_t).call(this)}renderAltitude(){this.uav.state.gearStatus===vt.UP?D(this,q,zt).call(this):D(this,q,Jt).call(this)}renderVerticalSpeed(){let i=this.canvas,a=i.displayWidth/6*5,r=i.displayHeight/2+40,e=this.canvas.context;e.font=this.getFont(15),e.fillStyle=this.secondaryTextColor,e.textAlign="center",e.fillText(this.uav.state.verticalVelocity.toFixed(0),a,r)}renderTailNumber(){let i=38,a=30,r=this.canvas.context;r.strokeStyle=this.primaryGraphicsColor,r.lineWidth=1;let e=60,u=28;r.strokeRect(i-e/2,a-u/2-7,e,u),r.fillStyle=this.secondaryGraphicsColor,r.fillRect(i-e/2,a-u/2-7,e,u),r.font=this.getFont(20),r.fillStyle=this.primaryTextColor,r.textAlign="center",r.fillText(this.uav.tailNumber,i,a)}renderGroundSpeed(){let i=this.canvas,a=i.displayWidth/6-10,r=i.displayHeight/2+40,e=this.canvas.context;e.font=this.getFont(15),e.fillStyle=this.secondaryTextColor,e.textAlign="left",e.fillText("GS "+this.uav.state.groundSpeed.value.toFixed(0),a,r)}renderMach(){let i=this.canvas,a=i.displayWidth/6-10,r=i.displayHeight/2+60,e=this.canvas.context;e.font=this.getFont(15),e.fillStyle=this.secondaryTextColor,e.textAlign="left",e.fillText("M "+this.uav.state.mach.toFixed(2),a,r)}renderGForce(){let i=this.canvas,a=i.displayWidth/6-10,r=i.displayHeight/2+80,e=this.canvas.context;e.font=this.getFont(15),e.fillStyle=this.secondaryTextColor,e.textAlign="left",e.fillText("G  "+this.uav.state.loadFactor.toFixed(1),a,r)}renderBankIndicator(){let i=this.canvas,a=i.displayWidth/2,r=i.displayHeight-230,e=150,u=[-60,-45,-30,-20,-10,0,10,20,30,45,60],n=this.canvas.context,f=[];for(let S of u){let g=S%45===0?15:S%10===0?10:7;(S===45||S===-45)&&(Math.abs(this.uav.state.bank.degrees)>=30?g=15:g=0),(S===60||S===-60)&&(Math.abs(this.uav.state.bank.degrees)>=45?g=20:g=0);let w=ht(a,r,e,S+90),$=ht(a,r,e-g,S+90);f.push({start:w,end:$,length:g,angle:S})}for(let S of f)n.beginPath(),n.strokeStyle=this.primaryGraphicsColor,n.lineWidth=1,n.moveTo(S.start.x,S.start.y),n.lineTo(S.end.x,S.end.y),n.stroke();let c=this.uav.state.bank.degrees+90,C=ht(a,r,e+4,c),y=ht(a,r,e+12,c-2.5),T=ht(a,r,e+12,c+2.5);n.beginPath(),n.strokeStyle=this.primaryGraphicsColor,n.lineWidth=1,n.moveTo(y.x,y.y),n.lineTo(C.x,C.y),n.lineTo(T.x,T.y),n.closePath(),n.fillStyle=this.primaryGraphicsColor,n.fill(),n.stroke()}renderClock(){let i=this.canvas,a=i.displayWidth/6*5,r=i.displayHeight-i.displayHeight+110,e=this.canvas.context,u=this.canvas.currentTime,n=u.getHours().toString().padStart(2,"0"),f=u.getMinutes().toString().padStart(2,"0"),c=u.getSeconds().toString().padStart(2,"0"),C=`${n}:${f}:${c}`;e.font=this.getFont(15),e.fillStyle=this.primaryTextColor,e.textAlign="center",e.fillText(C,a,r)}renderSimulationTime(){let i=this.canvas,a=i.displayWidth/6*5,r=i.displayHeight-i.displayHeight+130,e=this.canvas.context;e.font=this.getFont(15),e.fillStyle=this.primaryTextColor,e.textAlign="center",e.fillText(this.simulation.getDuration(),a,r)}renderWind(){let i=this.canvas,a=i.displayWidth/6,r=i.displayHeight-i.displayHeight/6*5,e=this.canvas.context,u=this.environment.wind.cardinalDirection.degrees,n=this.environment.wind.speed,f=a,c=r,C=30,y=(u-this.uav.state.heading.degrees)%360-180,T={x:f,y:c},S={x:f,y:c+C},g={x:f-C/6,y:c+C/4},w={x:f+C/6,y:c+C/4};T=P(T,T,y),S=P(S,T,y),g=P(g,T,y),w=P(w,T,y),e.strokeStyle=this.primaryGraphicsColor,e.lineWidth=1,e.beginPath(),e.moveTo(T.x,T.y),e.lineTo(S.x,S.y),e.moveTo(T.x,T.y),e.lineTo(g.x,g.y),e.lineTo(w.x,w.y),e.closePath(),e.fillStyle=this.primaryGraphicsColor,e.fill(),e.stroke();let $=T.x,F=S.y+25;(F<T.y||Math.abs(F-T.y)<20)&&(F=T.y+20),e.font=this.getFont(12),e.fillStyle=this.primaryTextColor,e.textAlign="center",e.fillText(u.toFixed(0)+"Â° "+n.value.toFixed(0),$,F)}getLadderWidth(i){return{0:225,2.5:100,5:140,10:140,15:140,20:140,25:140,30:140,35:140,40:140,45:140}[Math.abs(i)]}renderPitchLadder(){let i=[0,5,10,15,20,25,30,35,40,45,-5,-10,-15,-20,-25,-30,-35,-40,-45];for(let a of i)D(this,q,Qt).call(this,a)}renderFlightPathMarker(){let i=this.canvas,a=this.canvas.context,r={x:i.displayWidth/2,y:i.displayHeight/2},e=i.displayHeight/23,u=r.x,n=r.y,f=8,c=14;n=n-this.uav.state.gamma.degrees*e;const y=P({x:u,y:n},r,this.uav.state.bank.degrees/2),T={start:{x:y.x,y:y.y-f},end:{x:y.x,y:y.y-f-c}},S={start:{x:y.x-f,y:y.y},end:{x:y.x-f-c,y:y.y}},g={start:{x:y.x+f,y:y.y},end:{x:y.x+f+c,y:y.y}},w={start:P(T.start,y,this.uav.state.bank.degrees/2),end:P(T.end,y,this.uav.state.bank.degrees/2)},$={start:P(S.start,y,this.uav.state.bank.degrees/2),end:P(S.end,y,this.uav.state.bank.degrees/2)},F={start:P(g.start,y,this.uav.state.bank.degrees/2),end:P(g.end,y,this.uav.state.bank.degrees/2)};if(a.beginPath(),a.arc(y.x,y.y,f,Ft(0),Ft(360),!0),a.stroke(),a.beginPath(),a.strokeStyle=this.primaryGraphicsColor,a.lineWidth=1,a.moveTo(w.start.x,w.start.y),a.lineTo(w.end.x,w.end.y),a.stroke(),a.beginPath(),a.strokeStyle=this.primaryGraphicsColor,a.lineWidth=1,a.moveTo($.start.x,$.start.y),a.lineTo($.end.x,$.end.y),a.stroke(),a.beginPath(),a.strokeStyle=this.primaryGraphicsColor,a.lineWidth=1,a.moveTo(F.start.x,F.start.y),a.lineTo(F.end.x,F.end.y),a.stroke(),this.uav.state.boardsStatus===z.NONE)return;let Y={start:P({x:$.start.x-f,y:$.end.y+($.start.y-$.end.y)+3},y,this.uav.state.bank.degrees/2),end:P({x:$.start.x-f,y:($.start.y-$.end.y)/2+$.end.y},y,this.uav.state.bank.degrees/2)},k=15,R=30,W=0;switch(this.uav.state.boardsStatus){case z.FULL:W=R;break;case z.HALF:W=k;break;case z.IN:W=0;break;default:W=0;break}if(a.beginPath(),a.strokeStyle=this.primaryGraphicsColor,a.lineWidth=1,a.moveTo(Y.start.x,Y.start.y),a.lineTo(Y.end.x,Y.end.y+W),a.stroke(),this.uav.state.boardsStatus===z.LOCKED){let O={x:$.start.x-f/2-c+2,y:$.end.y},X={x:F.start.x+f/2+c-2,y:F.end.y};a.beginPath(),a.arc(O.x,O.y,2.5,0,Math.PI*2),a.fillStyle=this.primaryGraphicsColor,a.fill(),a.stroke(),a.beginPath(),a.arc(X.x,X.y,2.5,0,Math.PI*2),a.fillStyle=this.primaryGraphicsColor,a.fill(),a.stroke()}}renderHeadingBar(){let a=this.canvas.displayWidth/2,r=35,e=this.canvas.context,u=a,n=r+20,f=270,c=8,C=f/60,y=c,T=c*.5,S=[],g=[],w=this.uav.state.heading.degrees,$=this.uav.state.course.degrees;for(let k=-30;k<=31;k++){let R=w+k;R=Gt(R),R=parseFloat(R.toFixed(0));let W=k*C;if(R===$){let O={x:W+u,y:n+10},X={x:W-5+u,y:n+15},j={x:W+5+u,y:n+15};e.beginPath(),e.strokeStyle=this.primaryGraphicsColor,e.lineWidth=1,e.moveTo(X.x,X.y),e.lineTo(O.x,O.y),e.lineTo(j.x,j.y),e.closePath(),e.stroke(),O={x:u+.5,y:n+1},X={x:u+.5-5,y:n-3},j={x:u+.5+5,y:n-3},e.beginPath(),e.strokeStyle=this.primaryGraphicsColor,e.lineWidth=1,e.moveTo(X.x,X.y),e.lineTo(O.x,O.y),e.lineTo(j.x,j.y),e.closePath(),e.fillStyle=this.primaryGraphicsColor,e.fill(),e.stroke()}R%10===0&&S.push({x:W,y:n,height:y}),R%5===0&&S.push({x:W,y:n+T,height:T+3}),R%10===0&&k!==0&&Math.abs(k)>6&&g.push({x:W,y:n,text:R.toString().slice(0,2).padStart(2,"0")})}for(let k of S)e.fillStyle=this.primaryGraphicsColor,e.fillRect(k.x+u,k.y-k.height,1,k.height);for(let k of g)e.fillStyle=this.primaryTextColor,e.font=this.getFont(10),e.fillText(k.text,k.x+u,k.y-14);let F=40,Y=20;e.strokeStyle=this.primaryGraphicsColor,e.lineWidth=1,e.strokeRect(a-F/2,r-Y/2-6,F,Y),e.fillStyle="black",e.fillRect(a-F/2,r-Y/2-6,F,Y),e.font=this.getFont(15),e.fillStyle=this.primaryTextColor,e.textAlign="center",e.fillText(w.toFixed(0).padStart(3,"0"),a,r-1)}}q=new WeakSet,jt=function(){let i=this.canvas,a=i.displayWidth/6,r=i.displayHeight/2,e=this.canvas.context;e.font=this.getFont(20),e.fillStyle=this.primaryTextColor,e.textAlign="center",e.fillText(this.uav.state.keas.value.toFixed(0),a,r),e.strokeStyle=this.primaryGraphicsColor,e.lineWidth=1;let u=80,n=28;e.strokeRect(a-u/2,r-n/2-7,u,n)},_t=function(){let i=this.canvas,a=i.displayWidth/6+15,r=i.displayHeight/2-20,e=a-0,u=r+6,n=this.canvas.context;n.font=this.getFont(20),n.fillStyle=this.primaryTextColor,n.textAlign="center",n.fillText(this.uav.state.keas.value.toFixed(0),e,u);let f=30,c=f/3,C=f/10;n.beginPath(),n.setLineDash([c,C]),n.strokeStyle=this.primaryGraphicsColor,n.lineWidth=1,n.arc(a,r,f,0,Math.PI*2),n.stroke(),n.setLineDash([])},zt=function(){let i=this.canvas,a=i.displayWidth/6*5,r=i.displayHeight/2,e=this.canvas.context;e.font=this.getFont(20),e.fillStyle=this.primaryTextColor,e.textAlign="center",e.fillText(this.uav.state.altitude.value.toFixed(0),a,r),e.strokeStyle=this.primaryGraphicsColor,e.lineWidth=1;let u=80,n=28;e.strokeRect(a-u/2,r-n/2-7,u,n)},Jt=function(){let i=this.canvas,a=i.displayWidth/6*5,r=i.displayHeight/2-25,e=a-0,u=r+7,n=this.canvas.context;n.font=this.getFont(20),n.fillStyle=this.primaryTextColor,n.textAlign="center",n.fillText(this.uav.state.altitude.value.toFixed(0),e,u);let f=40,c=f/3,C=f/10;n.beginPath(),n.setLineDash([c,C]),n.strokeStyle=this.primaryGraphicsColor,n.lineWidth=1,n.arc(a,r,f,0,Math.PI*2),n.stroke(),n.setLineDash([])},Qt=function(i){let a=this.canvas,r=this.canvas.context,e={x:a.displayWidth/2,y:a.displayHeight/2},u=85,n=this.getLadderWidth(i),f=a.displayHeight/23;f=i==0?0:f;let c={left:{start:{x:a.displayWidth/2-n,y:a.displayHeight/2+-i*f},end:{x:a.displayWidth/2-u/2,y:a.displayHeight/2+-i*f}},right:{start:{x:a.displayWidth/2+n,y:a.displayHeight/2+-i*f},end:{x:a.displayWidth/2+u/2,y:a.displayHeight/2+-i*f}},degree:i},C={x:(c.left.start.x+c.left.end.x)/2,y:(c.left.start.y+c.left.end.y)/2},y={x:(c.right.start.x+c.right.end.x)/2,y:(c.right.start.y+c.right.end.y)/2},T={start:P(c.left.start,C,c.degree/2),end:P(c.left.end,C,c.degree/2)},S={start:P(c.right.start,y,-c.degree/2),end:P(c.right.end,y,-c.degree/2)},g={start:P(T.start,e,this.uav.state.bank.degrees/2),end:P(T.end,e,this.uav.state.bank.degrees/2)};if(c.degree!==0){r.font=this.getFont(13),r.fillStyle=this.primaryTextColor,r.textAlign="center";let k=c.degree>0?g.start.y+18:g.start.y-10;r.fillText(i.toString(),g.start.x+12,k)}let w={start:P(S.start,e,this.uav.state.bank.degrees/2),end:P(S.end,e,this.uav.state.bank.degrees/2)};if(c.degree!==0){r.font=this.getFont(13),r.fillStyle=this.primaryTextColor,r.textAlign="center";let k=c.degree>0?w.start.y+18:w.start.y-10;r.fillText(i.toString(),w.start.x-12,k)}let $=3,F=4,Y=(c.left.end.x-c.left.start.x-F)/$;if(c.degree>=0?r.setLineDash([]):r.setLineDash([Y,F]),r.beginPath(),r.strokeStyle=this.primaryGraphicsColor,r.lineWidth=1,r.moveTo(g.start.x,g.start.y),r.lineTo(g.end.x,g.end.y),r.stroke(),r.beginPath(),r.strokeStyle=this.primaryGraphicsColor,r.lineWidth=1,r.moveTo(w.start.x,w.start.y),r.lineTo(w.end.x,w.end.y),r.stroke(),c.degree<0){let k=P({x:w.end.x,y:w.end.y-10},{x:w.end.x,y:w.end.y},this.uav.state.bank.degrees/2);r.beginPath(),r.strokeStyle=this.primaryGraphicsColor,r.lineWidth=1,r.moveTo(w.end.x,w.end.y),r.lineTo(k.x,k.y),r.stroke(),r.beginPath();let R=P({x:g.end.x,y:g.end.y-10},{x:g.end.x,y:g.end.y},this.uav.state.bank.degrees/2);r.beginPath(),r.strokeStyle=this.primaryGraphicsColor,r.lineWidth=1,r.moveTo(g.end.x,g.end.y),r.lineTo(R.x,R.y),r.stroke()}else if(c.degree>0){let k=P({x:g.start.x,y:g.start.y+12},{x:g.start.x,y:g.start.y},this.uav.state.bank.degrees/2);r.beginPath(),r.strokeStyle=this.primaryGraphicsColor,r.lineWidth=1,r.moveTo(g.start.x,g.start.y),r.lineTo(k.x,k.y),r.stroke();let R=P({x:w.start.x,y:w.start.y+12},{x:w.start.x,y:w.start.y},this.uav.state.bank.degrees/2);r.beginPath(),r.strokeStyle=this.primaryGraphicsColor,r.lineWidth=1,r.moveTo(w.start.x,w.start.y),r.lineTo(R.x,R.y),r.stroke()}r.setLineDash([])};function me(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gt={exports:{}},fe=gt.exports,Dt;function ye(){return Dt||(Dt=1,function(s,t){(function(i,a){s.exports=a()})(fe,function(){var i=1e3,a=6e4,r=36e5,e="millisecond",u="second",n="minute",f="hour",c="day",C="week",y="month",T="quarter",S="year",g="date",w="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,F=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var d=["th","st","nd","rd"],l=p%100;return"["+p+(d[(l-20)%10]||d[l]||d[0])+"]"}},k=function(p,d,l){var m=String(p);return!m||m.length>=d?p:""+Array(d+1-m.length).join(l)+p},R={s:k,z:function(p){var d=-p.utcOffset(),l=Math.abs(d),m=Math.floor(l/60),h=l%60;return(d<=0?"+":"-")+k(m,2,"0")+":"+k(h,2,"0")},m:function p(d,l){if(d.date()<l.date())return-p(l,d);var m=12*(l.year()-d.year())+(l.month()-d.month()),h=d.clone().add(m,y),v=l-h<0,x=d.clone().add(m+(v?-1:1),y);return+(-(m+(l-h)/(v?h-x:x-h))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:y,y:S,w:C,d:c,D:g,h:f,m:n,s:u,ms:e,Q:T}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return p===void 0}},W="en",O={};O[W]=Y;var X="$isDayjsObject",j=function(p){return p instanceof ft||!(!p||!p[X])},mt=function p(d,l,m){var h;if(!d)return W;if(typeof d=="string"){var v=d.toLowerCase();O[v]&&(h=v),l&&(O[v]=l,h=v);var x=d.split("-");if(!h&&x.length>1)return p(x[0])}else{var M=d.name;O[M]=d,h=M}return!m&&h&&(W=h),h||!m&&W},H=function(p,d){if(j(p))return p.clone();var l=typeof d=="object"?d:{};return l.date=p,l.args=arguments,new ft(l)},b=R;b.l=mt,b.i=j,b.w=function(p,d){return H(p,{locale:d.$L,utc:d.$u,x:d.$x,$offset:d.$offset})};var ft=function(){function p(l){this.$L=mt(l.locale,null,!0),this.parse(l),this.$x=this.$x||l.x||{},this[X]=!0}var d=p.prototype;return d.parse=function(l){this.$d=function(m){var h=m.date,v=m.utc;if(h===null)return new Date(NaN);if(b.u(h))return new Date;if(h instanceof Date)return new Date(h);if(typeof h=="string"&&!/Z$/i.test(h)){var x=h.match($);if(x){var M=x[2]-1||0,A=(x[7]||"0").substring(0,3);return v?new Date(Date.UTC(x[1],M,x[3]||1,x[4]||0,x[5]||0,x[6]||0,A)):new Date(x[1],M,x[3]||1,x[4]||0,x[5]||0,x[6]||0,A)}}return new Date(h)}(l),this.init()},d.init=function(){var l=this.$d;this.$y=l.getFullYear(),this.$M=l.getMonth(),this.$D=l.getDate(),this.$W=l.getDay(),this.$H=l.getHours(),this.$m=l.getMinutes(),this.$s=l.getSeconds(),this.$ms=l.getMilliseconds()},d.$utils=function(){return b},d.isValid=function(){return this.$d.toString()!==w},d.isSame=function(l,m){var h=H(l);return this.startOf(m)<=h&&h<=this.endOf(m)},d.isAfter=function(l,m){return H(l)<this.startOf(m)},d.isBefore=function(l,m){return this.endOf(m)<H(l)},d.$g=function(l,m,h){return b.u(l)?this[m]:this.set(h,l)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(l,m){var h=this,v=!!b.u(m)||m,x=b.p(l),M=function(tt,E){var _=b.w(h.$u?Date.UTC(h.$y,E,tt):new Date(h.$y,E,tt),h);return v?_:_.endOf(c)},A=function(tt,E){return b.w(h.toDate()[tt].apply(h.toDate("s"),(v?[0,0,0,0]:[23,59,59,999]).slice(E)),h)},I=this.$W,N=this.$M,V=this.$D,rt="set"+(this.$u?"UTC":"");switch(x){case S:return v?M(1,0):M(31,11);case y:return v?M(1,N):M(0,N+1);case C:var Z=this.$locale().weekStart||0,ot=(I<Z?I+7:I)-Z;return M(v?V-ot:V+(6-ot),N);case c:case g:return A(rt+"Hours",0);case f:return A(rt+"Minutes",1);case n:return A(rt+"Seconds",2);case u:return A(rt+"Milliseconds",3);default:return this.clone()}},d.endOf=function(l){return this.startOf(l,!1)},d.$set=function(l,m){var h,v=b.p(l),x="set"+(this.$u?"UTC":""),M=(h={},h[c]=x+"Date",h[g]=x+"Date",h[y]=x+"Month",h[S]=x+"FullYear",h[f]=x+"Hours",h[n]=x+"Minutes",h[u]=x+"Seconds",h[e]=x+"Milliseconds",h)[v],A=v===c?this.$D+(m-this.$W):m;if(v===y||v===S){var I=this.clone().set(g,1);I.$d[M](A),I.init(),this.$d=I.set(g,Math.min(this.$D,I.daysInMonth())).$d}else M&&this.$d[M](A);return this.init(),this},d.set=function(l,m){return this.clone().$set(l,m)},d.get=function(l){return this[b.p(l)]()},d.add=function(l,m){var h,v=this;l=Number(l);var x=b.p(m),M=function(N){var V=H(v);return b.w(V.date(V.date()+Math.round(N*l)),v)};if(x===y)return this.set(y,this.$M+l);if(x===S)return this.set(S,this.$y+l);if(x===c)return M(1);if(x===C)return M(7);var A=(h={},h[n]=a,h[f]=r,h[u]=i,h)[x]||1,I=this.$d.getTime()+l*A;return b.w(I,this)},d.subtract=function(l,m){return this.add(-1*l,m)},d.format=function(l){var m=this,h=this.$locale();if(!this.isValid())return h.invalidDate||w;var v=l||"YYYY-MM-DDTHH:mm:ssZ",x=b.z(this),M=this.$H,A=this.$m,I=this.$M,N=h.weekdays,V=h.months,rt=h.meridiem,Z=function(E,_,lt,yt){return E&&(E[_]||E(m,v))||lt[_].slice(0,yt)},ot=function(E){return b.s(M%12||12,E,"0")},tt=rt||function(E,_,lt){var yt=E<12?"AM":"PM";return lt?yt.toLowerCase():yt};return v.replace(F,function(E,_){return _||function(lt){switch(lt){case"YY":return String(m.$y).slice(-2);case"YYYY":return b.s(m.$y,4,"0");case"M":return I+1;case"MM":return b.s(I+1,2,"0");case"MMM":return Z(h.monthsShort,I,V,3);case"MMMM":return Z(V,I);case"D":return m.$D;case"DD":return b.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return Z(h.weekdaysMin,m.$W,N,2);case"ddd":return Z(h.weekdaysShort,m.$W,N,3);case"dddd":return N[m.$W];case"H":return String(M);case"HH":return b.s(M,2,"0");case"h":return ot(1);case"hh":return ot(2);case"a":return tt(M,A,!0);case"A":return tt(M,A,!1);case"m":return String(A);case"mm":return b.s(A,2,"0");case"s":return String(m.$s);case"ss":return b.s(m.$s,2,"0");case"SSS":return b.s(m.$ms,3,"0");case"Z":return x}return null}(E)||x.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(l,m,h){var v,x=this,M=b.p(m),A=H(l),I=(A.utcOffset()-this.utcOffset())*a,N=this-A,V=function(){return b.m(x,A)};switch(M){case S:v=V()/12;break;case y:v=V();break;case T:v=V()/3;break;case C:v=(N-I)/6048e5;break;case c:v=(N-I)/864e5;break;case f:v=N/r;break;case n:v=N/a;break;case u:v=N/i;break;default:v=N}return h?v:b.a(v)},d.daysInMonth=function(){return this.endOf(y).$D},d.$locale=function(){return O[this.$L]},d.locale=function(l,m){if(!l)return this.$L;var h=this.clone(),v=mt(l,m,!0);return v&&(h.$L=v),h},d.clone=function(){return b.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},p}(),Mt=ft.prototype;return H.prototype=Mt,[["$ms",e],["$s",u],["$m",n],["$H",f],["$W",c],["$M",y],["$y",S],["$D",g]].forEach(function(p){Mt[p[1]]=function(d){return this.$g(d,p[0],p[1])}}),H.extend=function(p,d){return p.$i||(p(d,ft,H),p.$i=!0),H},H.locale=mt,H.isDayjs=j,H.unix=function(p){return H(1e3*p)},H.en=O[W],H.Ls=O,H.p={},H})}(gt)),gt.exports}var ge=ye();const pe=me(ge);var st;class ve{constructor({uav:t,environment:i,startTime:a}){o(this,"uav");o(this,"environment");o(this,"hasBeenStarted",!1);o(this,"startTime");o(this,"currentTime");o(this,"timeIncrement",0);et(this,st,!1);o(this,"duration",0);this.uav=t,this.environment=i,this.startTime=a,this.currentTime=a||null}start(t){kt(this,st,!0),this.hasBeenStarted||(this.hasBeenStarted=!0,this.startTime=t,this.currentTime=t)}stop(){kt(this,st,!1)}isRunning(){return Pt(this,st)}incrementTime(t){this.timeIncrement=t,this.duration+=this.timeIncrement,this.currentTime=pe(this.currentTime).add(this.timeIncrement,"ms").toDate()}getDuration(){let t=Math.floor(this.duration/36e5),i=Math.floor(this.duration%(1e3*60*60)/(1e3*60)),a=Math.floor(this.duration%(1e3*60)/1e3);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}}st=new WeakMap;let St=new ae({wind:new Wt({direction:270,speed:30}),surfaceTemperature:it.standardDayAtSeaLevel("F")}),ut=new de("732");ut.state.setIntialAttitude({heading:new B(360),keas:new U(120),altitude:new K(2e4),gamma:new G(0),bank:new G(0),position:{x:0,y:0}});ut.state.updatePerformanceValues(St);let Q=new ve({uav:ut,environment:St,startTime:new Date}),bt=new ue(ut,St,Q);bt.mount(document.getElementById("hud"));bt.render(Q.startTime);window.addEventListener("keyup",s=>{s.key===" "&&(Q.isRunning()?(Q.stop(),at=0):(Q.start(new Date),at=performance.now()))});let at=0;function pt(s){if(!Q.isRunning()){requestAnimationFrame(pt);return}if(at===0){at=s,requestAnimationFrame(pt);return}let t=s-at;at=s,Q.incrementTime(t),ut.state.updatePerformanceValues(St),bt.render(Q.currentTime??new Date),requestAnimationFrame(pt)}requestAnimationFrame(pt);</script>
    <style rel="stylesheet" crossorigin>/*! tailwindcss v4.0.15 | MIT License | https://tailwindcss.com */@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-gray-500:oklch(.551 .027 264.364);--color-black:#000;--color-white:#fff;--spacing:.25rem;--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:color-mix(in oklab,currentColor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.visible{visibility:visible}.absolute{position:absolute}.relative{position:relative}.static{position:static}.inset-0{inset:calc(var(--spacing)*0)}.container{width:100%}@media (width>=40rem){.container{max-width:40rem}}@media (width>=48rem){.container{max-width:48rem}}@media (width>=64rem){.container{max-width:64rem}}@media (width>=80rem){.container{max-width:80rem}}@media (width>=96rem){.container{max-width:96rem}}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.table{display:table}.aspect-square{aspect-ratio:1}.h-1{height:calc(var(--spacing)*1)}.h-1\/2{height:50%}.h-full{height:100%}.h-screen{height:100vh}.w-full{width:100%}.w-screen{width:100vw}.flex-1{flex:1}.resize{resize:both}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}.overflow-hidden{overflow:hidden}.border{border-style:var(--tw-border-style);border-width:1px}.border-gray-500{border-color:var(--color-gray-500)}.bg-black{background-color:var(--color-black)}.p-2{padding:calc(var(--spacing)*2)}.text-white{color:var(--color-white)}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}@media (width>=64rem){:where(.lg\:space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}}@media print{.print\:hidden{display:none}}}canvas{font-family:monospace}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}</style>
  </head>
  <body>
    <div
      class="h-screen w-screen overflow-hidden bg-black text-white antialiased"
    >
      <div
        class="w-full h-full p-2 flex items-center justify-center space-y-2 flex-col"
      >
        <div class="flex lg:space-x-2 flex-1 h-full w-full overflow-hidden">
          <!-- hud -->
          <div
            id="hud"
            class="flex-1 border border-gray-500 flex items-center justify-center relative h-full aspect-square"
          ></div>

          <!-- virtual world -->
          <div
            id="virtual-world"
            class="flex-1 border border-gray-500 flex items-center justify-center relative w-full h-full"
          ></div>
        </div>

        <!-- map -->
        <div
          id="map"
          class="w-full h-1/2 border border-gray-500 flex items-center justify-center print:hidden"
        ></div>
      </div>
    </div>
  </body>
</html>
